
#loan packages
library(readr)
library(caret)
##load data
data_2014<- read_csv("LoanStats_2014.csv", skip=1)
data_2015<- read_csv("LoanStats_2015.csv", skip=1)
datasetall<- rbind(data_2014, data_2015)

#selecting independent variables
dataset_var<- subset(dataset_36mon, select=c("int_rate","grade","sub_grade","home_ownership","annual_inc","delinq_2yrs","dti","inq_last_6mths","loan_status","loan_amnt","mths_since_last_delinq","open_acc","pub_rec","purpose","revol_util","installment","earliest_cr_line","issue_d"))

set.seed(123)
idx.train <- createDataPartition(dataset_var$loan_status, p=0.25, list=FALSE)
##60% default and non-default sample will be arranged into train set
newdata<- dataset_var[idx.train, ]  

#output
write.csv(newdata, file = "newdata_1415.csv")
```


